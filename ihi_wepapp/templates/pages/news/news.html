{% extends "../base.html" %}
{% load static %}
{% block title %}News{% endblock %}
{% block contents %}
<div class="events_page">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="content">
          <h1>our news</h1>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- <div class="new_section_one">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="content_item">
          <div class="new_item">
            <img src="{{ latest_news.image.url }}" alt="{{ latest_news.title }}" class="img-fluid">
          </div>
          <div class="new_item">
            <p class="caption">{{ latest_news.caption }}</p>
            <a href="{% url 'newsDetails' latest_news.id %}"><h1>{{ latest_news.title }}</h1></a>
            <p class="date">{{ latest_news.date }}</p>
            <p>{{ latest_news.description|safe|truncatechars:250 }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div> -->

<!-- <div class="new_section_two">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="content">
          {% for news in get_news %}
            <div class="news_item">
              <img src="{{ news.image.url }}" alt="{{ news.title }}" class="img-fluid">
              <p class="caption">{{ news.caption }}</p>
              <div class="description">
                <a href="{% url 'newsDetails' news.id %}"><h1>{{ news.title }}</h1></a>
                <p class="date"></p>
                <p>{{ news.description|safe|truncatechars:150 }}</p>
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</div> -->



<div class="events_section_one" id="news_grid_view">
  <div class="container">
    <div class="row">
      <div class="col-md-8 offset-md-2">
        <div class="content">
          {% for news in get_news %}
            <div class="content_list">
              <div class="image_section">
                <img src="{{ news.image.url }}" alt="{{ news.title }}" class="img-fluid">
                {% if news.video_file %}
                  <div class="video_button">
                    <img src="{% static 'images/play.png' %}" class="img-fluid" alt="play_button" data-toggle="modal" data-target="#staticBackdrop{{news.id}}">
                  </div>
                {% endif %}
                <p>{{ news.caption }}</p>
              </div>
              <div class="description_section p-2">
                <a href="{% url 'newsDetails' news.id %}"><h1>{{ news.title }}</h1></a>
                  <p>{{ news.description|safe|truncatechars:150 }}</p>
              </div>
              <div class="more_details">
                <a href="{% url 'newsDetails' news.id %}">read more</a>
              </div>
            </div>

            <!-- Modal -->
            <div class="modal fade" id="staticBackdrop{{news.id}}" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel{{news.id}}" aria-hidden="true">
              <div class="modal-dialog modal-xl modal-dialog-centered">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="staticBackdropLabel{{news.id}}">{{ news.title }}</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <div class="embed-responsive embed-responsive-21by9">
                      <iframe class="embed-responsive-item" src="{{ news.video_file }}?autoplay=1&mute=1" allowfullscreen></iframe>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
      </div>

    </div>
  </div>
</div>
{% endblock %}
